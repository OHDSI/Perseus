<div class="scan-data-progress">
  <div class="scan-data-progress__bar">
    <p>Scanning... Estimated time depends on selected database</p>
    <mat-progress-bar mode="determinate" [value]="progressValue"></mat-progress-bar>
  </div>

  <div class="scan-data-progress__content">
    <p>Console</p>
    <div class="scan-data-progress__content-console">
      <p *ngFor="let notification of progressNotifications">{{notification.message}}</p>
    </div>
  </div>

  <div class="scan-data-progress__action">
    <div *ngIf="scanningFinished; then scanningFinishedBlock; else scanningBlock"></div>

    <ng-template #scanningFinishedBlock>
      <button class="scan-data-progress__action-back"
              (click)="cancel.emit()">Back</button>
      <button class="scan-data-progress__action-save"
              (click)="onSaveReport()">Save report</button>
      <button class="scan-data-progress__action-link"
              (click)="onUploadReport()">Link tables</button>
    </ng-template>

    <ng-template #scanningBlock>
      <button class="scan-data-progress__action-abort"
              (click)="onAbortAndCancel()">Abort and cancel</button>
    </ng-template>
  </div>
</div>
