<section>
    <main class="main">
        <app-area area="source">
            <ng-container *ngFor="let table of state?.source.tables" >
                <ng-container *ngIf="table.visible">
                    <app-panel [title]="table.name" [table]="table">
                        <app-panel-table [table]="table"
                            [displayedColumns]="['column_indicator', 'column_name', 'column_type', 'values', 'comments']">
                        </app-panel-table>
                    </app-panel>
                </ng-container>
            </ng-container>
        </app-area>

        <div class="hint">
            <svg class="canvas">
                <defs>
                    <marker id="arrow" markerWidth="10" markerHeight="10" refX="5" refY="5" orient="auto" markerUnits="strokeWidth">
                        <path d="M0,0 l5,5 l-5,5" fill="none" stroke="#808080" stroke-width="1" />
                    </marker>
                </defs>
            </svg>
            <p>
                {{hint ? 'Drag and drop source item to target item' : 'Expand tables to make links'}}
            </p>
        </div>

        <app-area area="target">
            <ng-container *ngFor="let table of state?.target.tables" >
                <ng-container *ngIf="table.visible">
                    <app-panel [title]="table.name" [table]="table">
                        <app-panel-table [table]="table"
                            [displayedColumns]="['column_indicator', 'column_name', 'column_type', 'comments']">
                        </app-panel-table>
                    </app-panel>
                </ng-container>
            </ng-container>
        </app-area>
    </main>
    <footer>
        <div>
            <mat-checkbox>Link similar items from other source tables</mat-checkbox>
        </div>
        <div>
            <button>Generate ETL</button>
            <button>Generate XML</button>
        </div>
    </footer>
</section>